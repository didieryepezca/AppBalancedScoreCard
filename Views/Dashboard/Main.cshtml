
@{
    ViewData["Title"] = "Main";
}


<script src="~/js/vendor/jquery-1.12.4.min.js"></script>

<script type="text/javascript">


    var vDia = '@ViewBag.DAY';
    var vMes = '@ViewBag.MES';
    var vAno = '@ViewBag.YEAR';

    window.onload = load;

    function load() {        

        $('#selectMes').val(vMes);
        $('#selectAnio').val(vAno);       

        checkIndicadoresFinancieros(vMes, vAno);
        //----------------------------------------------Procesos internos parametros dinamicos   

        $('#piCumplimiento').attr('href', "/ProcesosInternos/VerProcesoInternoKPI?indicador=Cumplimiento ANS por Servicio&penaliza=SI&mes=" + vMes + '&anio='+vAno);
        $('#piCalidad').attr('href', "/ProcesosInternos/VerProcesoInternoKPI?indicador=Nivel de Calidad de los Servicios&penaliza=NO&mes=" + vMes + '&anio='+vAno);
        
        //----------------------------------------------Procesos internos parametros dinamicos
    }

    arrayIndicadoresNames = []; //Para iterar y colocar los links sobre las cajas de Indicadores Financieros
    arrayIndicadoresFinancieros = []; //Para iterar y armar los indicadores Financieros

    //------------------------- Utilizada con nuestro boton "Mostrar"
    function loadIndicadoresGlobal() {

        var vMesC = $('#selectMes').val();
        var vAnioC = $('#selectAnio').val();
        
        checkIndicadoresFinancieros(vMesC, vAnioC);
        //fnActualizarProcesosInternos();

        console.log("resuelto");
    }
    //------------------------- Utilizada con nuestro boton "Mostrar"

    function checkIndicadoresFinancieros(vMesC, vAnioC) {

        arrayIndicadoresNames = [];
        arrayIndicadoresFinancieros = [];

        function Datos(id, indicador, comentarios, resultado) {
            this.id = id;
            this.indicador = indicador;
            this.comentarios = comentarios;
            this.resultado = resultado;
        };

        var url = "/Dashboard/GetFinanciera";
        $.get(url, { mes: vMesC, anio: vAnioC }, function (data) {

            //console.log(data);

            data.forEach(function (element) {

                arrayIndicadoresNames.push(element.indicador);
                arrayIndicadoresFinancieros.push(new Datos(element.id, element.indicador, element.comentarios, element.resultado));

            });

            fnLinksFinancieros(vMesC, vAnioC);
            fnSemaforoFinanciero();
        });

        

    }

    function fnLinksFinancieros(vMesC,vAnioC) {

        //console.log(vMesC);

        if (arrayIndicadoresNames.includes("Cumplimiento de Presupuesto") === false &&
            arrayIndicadoresNames.includes("Margen Global Neto") === false) {

            //console.log("no hay nada");
            $('#linkFinanciero1').attr('href', "/Dashboard/CreateIndicadorFinanciero?perspectiva=Cumplimiento de Presupuesto&mes=" + vMesC + "&anio=" + vAnioC);
            $('#linkFinanciero2').attr('href', "/Dashboard/CreateIndicadorFinanciero?perspectiva=Margen Global Neto&mes=" + vMesC + "&anio=" + vAnioC);
        }

        if (arrayIndicadoresNames.includes("Cumplimiento de Presupuesto") === true
            && arrayIndicadoresNames.includes("Margen Global Neto") === false) {
            //console.log("Solo hay Cumplimiento");

            const cump = arrayIndicadoresFinancieros.find(x => x.indicador === 'Cumplimiento de Presupuesto');
            $('#linkFinanciero1').attr('href', "/Dashboard/UpdateIndicadorFinanciero?id=" + cump.id + "&perspectiva=Cumplimiento de Presupuesto");

            $('#linkFinanciero2').attr('href', "/Dashboard/CreateIndicadorFinanciero?perspectiva=Margen Global Neto&mes=" + vMesC + "&anio=" + vAnioC);
        }

        if (arrayIndicadoresNames.includes("Margen Global Neto") === true
        && arrayIndicadoresNames.includes("Cumplimiento de Presupuesto") === false) {
            //console.log("Solo hay Margen");

            const marg = arrayIndicadoresFinancieros.find(y => y.indicador === 'Margen Global Neto');
            $('#linkFinanciero2').attr('href', "/Dashboard/UpdateIndicadorFinanciero?id=" + marg.id + "&perspectiva=Margen Global Neto");

            $('#linkFinanciero1').attr('href', "/Dashboard/CreateIndicadorFinanciero?perspectiva=Cumplimiento de Presupuesto&mes=" + vMesC + "&anio=" + vAnioC);
        }

        if (arrayIndicadoresNames.includes("Margen Global Neto") === true
        && arrayIndicadoresNames.includes("Cumplimiento de Presupuesto") === true) {
            //console.log("Tiene ambos");

            const cump = arrayIndicadoresFinancieros.find(x => x.indicador === 'Cumplimiento de Presupuesto');
            $('#linkFinanciero1').attr('href', "/Dashboard/UpdateIndicadorFinanciero?id=" + cump.id + "&perspectiva=Cumplimiento de Presupuesto");

            const marg = arrayIndicadoresFinancieros.find(y => y.indicador === 'Margen Global Neto');
            $('#linkFinanciero2').attr('href', "/Dashboard/UpdateIndicadorFinanciero?id="+ marg.id + "&perspectiva=Margen Global Neto");
        }
    }

    function fnSemaforoFinanciero() {

        //---------------------------------------------------------------------------------------
        const cump = arrayIndicadoresFinancieros.find(x => x.indicador === 'Cumplimiento de Presupuesto');


        //--------------------------- Semaforos
        if (cump.resultado < 2) {
            $('#popOverCumplimiento').attr('class', "btn btn-success waves-effect");
            $('#resultCumplimiento').text(cump.resultado);
        } else if (cump.resultado >= 2 && cump.resultado < 5) {
            $('#popOverCumplimiento').attr('class', "btn btn-warning waves-effect");
            $('#resultCumplimiento').text(cump.resultado);
        } else if (cump.resultado >= 5 ) {
            $('#popOverCumplimiento').attr('class', "btn btn-danger waves-effect");
            $('#resultCumplimiento').text(cump.resultado);
        }
        //---------------------------------------------------------------------------------------
        const marg = arrayIndicadoresFinancieros.find(y => y.indicador === 'Margen Global Neto');


        //--------------------------- Semaforos
        if (marg.resultado < 2) {
            $('#popOverMargen').attr('class', "btn btn-success waves-effect");
            $('#resultMargen').text(marg.resultado);
        } else if (cump.resultado >= 2 && marg.resultado < 6) {
            $('#popOverMargen').attr('class', "btn btn-warning waves-effect");
            $('#resultMargen').text(marg.resultado);
        } else if (cump.resultado >= 6 && cump.resultado <= 10 ) {
            $('#popOverMargen').attr('class', "btn btn-danger waves-effect");
            $('#resultMargen').text(marg.resultado);
        }
    }

    function popOversFinanzas(I) {
        if (I == "C") {
            const cump = arrayIndicadoresFinancieros.find(x => x.indicador === 'Cumplimiento de Presupuesto');
            $('#popOverCumplimiento').attr('data-content', cump.comentarios);
        } else {
            const marg = arrayIndicadoresFinancieros.find(y => y.indicador === 'Margen Global Neto');
            $('#popOverMargen').attr('data-content', marg.comentarios);
        }
    }

    function MostrarFoto(vPerspectiva) {

        var BaseImgSrc = "data:image/gif;base64,";
        var imgURL = "";

        var names = '';
        var photos = '';
        var count = 1;

        var url = "/Dashboard/FunGetOwnerFoto";
        $.get(url, { perspectiva: vPerspectiva }, function (data) {

            DeleteComponents(data.length);

            data.forEach(function (element) {

                imgURL = BaseImgSrc + element.foto;

                names = names + '<div id="Name' + count + '" class="col-lg-3 col-md-3 col-sm-3 col-xs-12" ><h2>' + element.nombres + ' ' + element.apellidos + ' -</h2><h6>Ult. Actualización: ' + moment(data.fechA_REGISTRO).format('DD/MM/YYYY') + '</h6></div>';
                photos = photos + '<img id="Photo' + count + '" src="' + imgURL + '" style="position:relative;height:190px;width:180px" />';

                count = count + 1;
            });

            $('#ownersNames').append(names).fadeIn(300000);
            $('#ownersPhotos').append(photos).fadeIn(300000);
            //$('#imgResponsable').attr('src', BaseImgSrc + data.foto);
        });
        $("#myModaltwo").show();
    }
    function DeleteComponents(vCount) {
        //console.log(vCount);

        if (vCount == 0) {
            for (i = 1; i <= 4; i++) {
            $('#Name' + i).remove();
            $('#Photo' + i).remove();
            }
        }

        for (i = 1; i <= vCount; i++) {
            $('#Name' + i).remove();
            $('#Photo' + i).remove();
        }
    }


    function OcultarFoto() { $("#myModaltwo").hide(); }


    var arrayGraphFinanzas = [];
    

    function fnVerHistoricoF(Tipo) {


        arrayGraphFinanzas = [];
        var arrayGraphMeses = ["Ene", "Feb", "Mar", "Abr", "Jun", "Jul", "Ago", "Set", "Oct", "Nov", "Dic"];

        //Objeto para graficos historico de Finanzas
         function PtosHistorico(y, label, x) {
            this.y = y;
            this.x = x;
            this.label = label;
         };

        //console.log(Tipo);
        //const cump = arrayIndicadoresFinancieros.find(x => x.indicador === 'Cumplimiento de Presupuesto');
        //const marg = arrayIndicadoresFinancieros.find(y => y.indicador === 'Margen Global Neto');

        $("#pnlHistoricoF").toggle("blind");
        
        var vIndicador = "";

        if (Tipo == "C") {

            vIndicador = 'Cumplimiento de Presupuesto';

            $("#titleFinancieraHistorico").text("Registro Histórico de: " + vIndicador + " " + vAno);
            //vIndicador = cump.indicador;            
           
            $("#tbBodyHistorico").remove();

        } else {
            vIndicador = 'Margen Global Neto';

            $("#titleFinancieraHistorico").text("Registro Histórico de: " + vIndicador + " " + vAno);
            //vIndicador = marg.indicador;            

            $("#tbBodyHistorico").remove();
        }


        var count = 1;
            
            var tblBody = "";
            var url = "/Dashboard/GetFinancieraHistorico";

            $.get(url, { anio: vAno, indicador: vIndicador }, function (data) {

            //--------------------------- ordenamos el array por mes
            data.sort(function (a, b) {
                return parseFloat(a.mes) - parseFloat(b.mes);
            });
            //--------------------------- ordenamos el array por mes

            //console.log(data);
            tblBody = tblBody + '<tbody id="tbBodyHistorico"><tr>';

                data.forEach(function (element) {

                //console.log(element.mes);

                if (element.resultado < 2) {

                    tblBody = tblBody + '<td><button class="btn btn-success notika-btn-warning waves-effect">' + element.resultado + '</button></td>';

                } else if (element.resultado >= 2 && element.resultado < 5) {

                    tblBody = tblBody + '<td><button class="btn btn-warning notika-btn-warning waves-effect">' + element.resultado + '</button></td>';

                } else if (element.resultado >= 5) {

                    tblBody = tblBody + '<td><button class="btn btn-danger notika-btn-warning waves-effect">' + element.resultado + '</button></td>';
                }             


                //console.log(count);

                    if (count == 1) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[0]));
                    } else if (count == 2) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[1]));
                    } else if (count == 3) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[2]));
                    } else if (count == 4) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[3]));
                    }else if (count == 5) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[4]));
                    }else if (count == 6) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[5]));
                    }else if (count == 7) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[6]));
                    }else if (count == 8) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[7]));
                    }else if (count == 9) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[8]));
                    }else if (count == 10) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[9]));
                    }else if (count == 11) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[10]));
                    }else if (count == 12) {
                        arrayGraphFinanzas.push(new PtosHistorico(element.resultado,  arrayGraphMeses[11]));
                    }

                    count = count + 1;
                });

                tblBody = tblBody + '</tbody></tr>';

                console.log(arrayGraphFinanzas);

             $('#tblHistoricoFinanzas').append(tblBody);

            });


        //Grafico historico
        var chart = new CanvasJS.Chart("chartContainer", {
	        animationEnabled: true,
	        theme: "light2",	        
	        data: [{        
		        type: "line",
      	        indexLabelFontSize: 16,
		        dataPoints: arrayGraphFinanzas
	        }]
        });
        chart.render();
    }


    function fnUpdateLinks() {

        var vMes = $('#selectMes').val();
        var vAnio = $('#selectAnio').val();

         //----------------------------------------------Procesos internos parametros dinamicos   

        $('#piCumplimiento').attr('href', "/ProcesosInternos/VerProcesoInternoKPI?indicador=Cumplimiento ANS por Servicio&penaliza=SI&mes=" + vMes + '&anio='+vAnio);
        $('#piCalidad').attr('href', "/ProcesosInternos/VerProcesoInternoKPI?indicador=Nivel de Calidad de los Servicios&penaliza=NO&mes=" + vMes + '&anio='+vAnio);
        
        //----------------------------------------------Procesos internos parametros dinamicos

    }
</script>



<br />


<div class="row">

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

        <div class="form-element-list">
            <div class="curved-inner-pro">
                <div class="curved-ctn">
                    <h2>Dashboard / Balanced Scorecard</h2>
                </div>
            </div>

            <div class="row">

                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
                    <div class="nk-int-mk sl-dp-mn">
                        <h2>Mes</h2>
                    </div>
                    <div class="bootstrap-select fm-cmp-mg">
                        <div class="btn-group bootstrap-select">
                            <div class="dropdown-menu open" role="combobox" style="max-height: 357.6px; overflow: hidden; min-height: 132px;"><ul class="dropdown-menu inner" role="listbox" aria-expanded="false" style="max-height: 347.6px; overflow-y: auto; min-height: 122px;"><li data-original-index="0" class=""><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Drama</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="1" class=""><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Cariska</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="2" class="selected"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="true"><span class="text">Cheriska</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="3" class=""><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Malias</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="4"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Kamines</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="5"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Austranas</span><span class="notika-icon notika-checked check-mark"></span></a></li></ul></div>
                            <select class="selectpicker" onchange="fnUpdateLinks()" tabindex="-98" id="selectMes">
                                <option value="" selected>Seleccione</option>
                                <option value="1">Enero</option>
                                <option value="2">Febrero</option>
                                <option value="3">Marzo</option>
                                <option value="4">Abril</option>
                                <option value="5">Mayo</option>
                                <option value="6">Junio</option>
                                <option value="7">Julio</option>
                                <option value="8">Agosto</option>
                                <option value="9">Setiembre</option>
                                <option value="10">Octubre</option>
                                <option value="11">Noviembre</option>
                                <option value="12">Diciembre</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
                    <div class="nk-int-mk sl-dp-mn">
                        <h2>Año</h2>
                    </div>
                    <div class="bootstrap-select fm-cmp-mg">
                        <div class="btn-group bootstrap-select">
                            <div class="dropdown-menu open" role="combobox" style="max-height: 357.6px; overflow: hidden; min-height: 132px;"><ul class="dropdown-menu inner" role="listbox" aria-expanded="false" style="max-height: 347.6px; overflow-y: auto; min-height: 122px;"><li data-original-index="0" class=""><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Drama</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="1" class=""><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Cariska</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="2" class="selected"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="true"><span class="text">Cheriska</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="3" class=""><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Malias</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="4"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Kamines</span><span class="notika-icon notika-checked check-mark"></span></a></li><li data-original-index="5"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Austranas</span><span class="notika-icon notika-checked check-mark"></span></a></li></ul></div>
                            <select class="selectpicker" onchange="fnUpdateLinks()" tabindex="-98" id="selectAnio">
                                <option value="" selected>Seleccione</option>
                                <option value="2021">2021</option>
                                <option value="2022">2022</option>
                                <option value="2023">2023</option>
                                <option value="2024">2024</option>
                                <option value="2025">2025</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
                    <div class="nk-int-mk sl-dp-mn">
                        <h2 style="color:white">_</h2>
                    </div>
                    <div class="btn-list">
                        <button class="btn btn-info notika-btn-info waves-effect"
                                onclick="loadIndicadoresGlobal();">Mostrar</button>

                    </div>
                </div>


            </div>

        </div>
    </div>
</div>


<br />


<div class="row">

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

        <div class="form-element-list" style="background-color:lightgoldenrodyellow; border-style:solid;">
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12" >
                    <div class="color-single nk-light-blue mg-t-30" onclick="MostrarFoto('FINANCIERA');" style="cursor:pointer">
                        <h5>Perspectiva Financiera</h5>
                    </div>
                </div>

                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                    <div class="color-single nk-light-green mg-t-10">
                        <h6>LOGRAR ESTANDARES DE COSTOS EFICIENTES</h6>
                    </div>

                    <div class="color-single nk-light-green mg-t-10">
                        <h6>MANTENER MARGENES NECESARIOS</h6>
                    </div>
                </div>

                <div class="col-lg-4 col-md-3 col-sm-3 col-xs-12">

                    <a id="linkFinanciero1" asp-route-perspectiva="FINANCIERA">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Cumplimiento de Presupuesto</h6>
                        </div>
                    </a>
                    <a id="linkFinanciero2" asp-route-perspectiva="FINANCIERA">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Margen Global Neto</h6>
                        </div>
                    </a>
                </div>

                <div class="col-lg-2 col-md-1 col-sm-1 col-xs-12">

                    <div class="row">

                        <button class="btn btn-default waves-effect" id="popOverCumplimiento" onclick="popOversFinanzas('C')"
                                data-toggle="popover" data-placement="right"
                                data-content="Estamos remediando esto de alguna manera"
                                title="Acciones" aria-describedby="popover218040"
                                style="margin-left: 2.5em; margin-top:0.5em">

                            <div class="color-single" id="resultCumplimiento">
                                75
                            </div>
                        </button>

                        <button id="btnHistCump" onclick="fnVerHistoricoF('C')" class="btn btn-lightgreen lightgreen-icon-notika">
                            <i class="notika-icon notika-menus"></i>
                        </button>

                        <button class="btn btn-default waves-effect" id="popOverMargen" onclick="popOversFinanzas('M')"
                                data-toggle="popover" data-placement="right"
                                data-content="Estamos remediando esto de alguna manera"
                                title="Acciones" aria-describedby="popover218040"
                                style="margin-left: 2.5em; margin-top:0.5em">

                            <div class="color-single" id="resultMargen">
                                89
                            </div>
                        </button>

                        <button id="btnHistMargen" onclick="fnVerHistoricoF('M')" class="btn btn-lightgreen lightgreen-icon-notika">
                            <i class="notika-icon notika-menus"></i>
                        </button>

                    </div>
                </div>



            </div>
        </div>
    </div>

</div>

<br />

<div class="row" id="pnlHistoricoF" style="display:none">

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="form-element-list">

            <div class="normal-table-list">
                <div class="basic-tb-hd">
                    <h2 id="titleFinancieraHistorico">Indicador</h2>
                </div>
                <div class="bsc-tbl">
                    <table class="table table-sc-ex" id="tblHistoricoFinanzas">
                        <thead>
                            <tr>
                                <th>Ene</th>
                                <th>Feb</th>
                                <th>Mar</th>
                                <th>Abr</th>
                                <th>May</th>
                                <th>Jun</th>
                                <th>Jul</th>
                                <th>Ago</th>
                                <th>Set</th>
                                <th>Oct</th>
                                <th>Nov</th>
                                <th>Dic</th>
                            </tr>
                        </thead>
                        @*<tbody>
                                <tr>
                                    <td>
                                        <button class="btn btn-warning notika-btn-warning waves-effect">6.2</button>
                                    </td>
                                    <td>
                                        <button class="btn btn-success notika-btn-success waves-effect">4.4</button>
                                    </td>
                                    <td>
                                        <button class="btn btn-danger notika-btn-danger waves-effect">4.5</button>
                                    </td>
                                    <td>3.4</td>
                                    <td>6.2</td>
                                    <td>6.6</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>*@
                    </table>
                </div>
            </div>

        </div>
    </div>


    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="line-chart-wp chart-display-nn">
            <div height="402" width="518" id="chartContainer" 
                 style="display: block; height: 322px; width: 100%;">
            </div>
        </div>
    </div>

</div>


<br />



<div class="row">

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="form-element-list" style="background-color:lightgoldenrodyellow; border-style:solid;">
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">

                    <div class="color-single nk-light-blue mg-t-30" onclick="MostrarFoto('CLIENTE');" style="cursor:pointer">
                        <h5>Perspectiva Cliente</h5>
                    </div>


                </div>

                <div class="col-lg-4 col-md-3 col-sm-3 col-xs-12">
                    <div class="color-single nk-light-green mg-t-10">
                        <h6>CONTINUAR FUERTE RELACION CON EL CLIENTE</h6>
                    </div>

                    <div class="color-single nk-light-green mg-t-10">
                        <h6>MAXIMIZAR LA SATISFACCION DEL CLIENTE</h6>
                    </div>
                </div>

                <div class="col-lg-4 col-md-3 col-sm-3 col-xs-12">

                    <a asp-action="DetalleIndicador" asp-route-perspectiva="CLIENTE">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Variacion FTE's</h6>
                        </div>
                    </a>
                    <a asp-action="DetalleIndicador" asp-route-perspectiva="CLIENTE">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Encuestas de Satisfaccion al cliente</h6>
                        </div>
                    </a>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
                    <button class="btn btn-warning waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.5em">

                        <div class="color-single">
                            75
                        </div>
                    </button>

                    <button class="btn btn-success waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.5em">

                        <div class="color-single">
                            89
                        </div>
                    </button>
                </div>

            </div>
        </div>
    </div>
</div>



<br />


<div class="row">

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="form-element-list" style="background-color:lightgoldenrodyellow; border-style:solid;">
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
                    <br />
                    <br />
                    <br />
                    <div class="color-single nk-light-blue mg-t-30" onclick="MostrarFoto('PROCESOS INTERNOS');" style="cursor:pointer">
                        <h5>Perspectiva Procesos Internos</h5>
                    </div>
                </div>

                <div class="col-lg-4 col-md-3 col-sm-3 col-xs-12">
                    <div class="color-single nk-light-green mg-t-10">
                        <h6>DISEÑAR Y MEJORAR LOS PROCESOS CONTINUAMENTE</h6>
                    </div>

                    <div class="color-single nk-light-green mg-t-10">
                        <h6>CUMPLIR LOS ESTANDARES DEL CLIENTE</h6>
                    </div>


                    <div class="color-single nk-light-green mg-t-10">
                        <h6>MAXIMIZAR LA CALIDAD DE LOS SERVICIOS</h6>
                    </div>


                </div>

                <div class="col-lg-4 col-md-3 col-sm-3 col-xs-12">

                    <a asp-controller="ProcesosInternos" asp-action="" asp-route-penalizado="">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Informe Anual de Gestion de Procesos</h6>
                        </div>
                    </a>

                    <a id="piCumplimiento">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Cumplimiento ANS por Servicio</h6>
                        </div>
                    </a>
                    <a id="piCalidad">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Nivel de Calidad de los Servicios</h6>
                        </div>
                    </a>

                </div>

                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
                    <button class="btn btn-danger waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.1em">

                        <div class="color-single">
                            46
                        </div>
                    </button>

                    <button class="btn btn-danger waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.5em">

                        <div class="color-single">
                            52
                        </div>
                    </button>

                    <button class="btn btn-warning waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.5em">

                        <div class="color-single">
                            75
                        </div>
                    </button>
                </div>

            </div>
        </div>
    </div>
</div>


<br />


<div class="row">

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="form-element-list" style="background-color:lightgoldenrodyellow; border-style:solid;">
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12" onclick="MostrarFoto('APRENDIZAJE Y CRECIMIENTO');" style="cursor:pointer">
                    <br />
                    <br />
                    <br />
                    <div class="color-single nk-light-blue mg-t-30">
                        <h5>Perspectiva Aprendizaje y Crecimiento</h5>
                    </div>


                </div>

                <div class="col-lg-4 col-md-3 col-sm-3 col-xs-12">



                    <br />
                    <div class="color-single nk-light-green mg-t-10">
                        <h6>DESARROLLAR CAPACIDADES DE LOS COLABORADORES</h6>
                    </div>



                    <br />
                    <br /> 
                    <br />

                    <div class="color-single nk-light-green mg-t-10">
                        <h6>IDENTIDAD, CULTURA OPPLUS</h6>
                    </div>


                    <div class="color-single nk-light-green mg-t-10">
                        <h6>MANTENER DOCUMENTADO PROCESOS CLAVE</h6>
                    </div>

                    <div class="color-single nk-light-green mg-t-10">
                        <h6>CUMPLIR CON LA NORMA SEGURIDAD DE LA INFORMACION</h6>
                    </div>


                </div>

                <div class="col-lg-4 col-md-3 col-sm-3 col-xs-12">

                    <a asp-action="DetalleIndicador" asp-route-perspectiva="APRENDIZAJE Y CRECIMIENTO">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Cumplimiento Plan Anual de Capacitaciones</h6>
                        </div>
                    </a>

                    <a asp-action="DetalleIndicador" asp-route-perspectiva="APRENDIZAJE Y CRECIMIENTO">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Grado de Aprobacion</h6>
                        </div>
                    </a>



                    <br />

                    <a asp-action="DetalleIndicador" asp-route-perspectiva="APRENDIZAJE Y CRECIMIENTO">

                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Encuesta de Clima Laboral</h6>
                        </div>
                    </a>

                    <a asp-action="DetalleIndicador" asp-route-perspectiva="APRENDIZAJE Y CRECIMIENTO">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Cumplimiento de Procesos Claves Documentados</h6>
                        </div>
                    </a>

                    <a asp-action="DetalleIndicador" asp-route-perspectiva="APRENDIZAJE Y CRECIMIENTO">
                        <div class="color-single nk-light-blue mg-t-10">
                            <h6>Resultados de Auditoría de Seguridad de la Información</h6>
                        </div>
                    </a>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">

                    <button class="btn btn-danger waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.1em">

                        <div class="color-single">
                            46
                        </div>
                    </button>


                    <button class="btn btn-success waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.1em">

                        <div class="color-single">
                            85
                        </div>
                    </button>

                    <br />
                    <br />

                    <button class="btn btn-danger waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.5em">

                        <div class="color-single">
                            52
                        </div>
                    </button>

                    <button class="btn btn-warning waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.5em">

                        <div class="color-single">
                            75
                        </div>
                    </button>

                    <button class="btn btn-success waves-effect"
                            data-toggle="popover" data-placement="right"
                            data-content="Estamos remediando esto de alguna manera"
                            title="Acciones" aria-describedby="popover218040"
                            style="margin-left: 2.5em; margin-top:0.5em">

                        <div class="color-single">
                            89
                        </div>
                    </button>

                </div>

            </div>
        </div>
    </div>
</div>





@*MODAL PARA MOSTRAR LA FOTO*@
<div class="row">
    <div class="modal fade in" id="myModaltwo" role="dialog" style="display: none; padding-right: 16px;">
        <div class="modal-dialog modal-large">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" onclick="OcultarFoto()">×</button>
                </div>
                <div class="modal-body">

                    <div class="row" id="ownersNames">

                    </div>
                </div>

                <div class="row">

                    <div id="ownersPhotos">
                    </div>
                </div>

            </div>


        </div>
    </div>
</div>
    








